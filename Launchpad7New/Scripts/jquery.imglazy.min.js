!function(){function t(t){function e(){function t(t){var e,o=t.offset().top,i=t.attr(a),r=f+u+d>=o;r=r&&(!s.viewport||o+t.height()+d>=f),r&&(v+=1,e=new Image,e.onload=function(){t.attr("src",i).removeAttr(a),"fadeIn"===s.effect&&t.css("opacity",0).animate({opacity:1}),n()},e.onerror=function(){t.attr("src",i).removeAttr(a),n()},e.src=i)}function n(){v--,0>=v&&setTimeout(e,400)}for(var i=$(s.selector),r=0,w=i.length,f=c.scrollTop(),u=c.height(),v=0;w>r;r++)t(i.eq(r));0===w&&o()}function n(){document.addEventListener?(window.addEventListener("scroll",r),window.addEventListener("resize",r)):(window.attachEvent("onscroll",r),window.attachEvent("onresize",r))}function o(){document.addEventListener?(window.removeEventListener("scroll",r),window.removeEventListener("resize",r)):(window.detachEvent("onscroll",r),window.detachEvent("onresize",r))}var i,r,c=$(window),s=$.extend({selector:"img[data-src]",src:"data-src",effect:"none",threshold:0,timeout:0,viewport:!1},t),a=s.src,d=s.threshold;this.init=function(){o(),n(),r()},r=0===s.timeout?e:function(){clearTimeout(i),i=setTimeout(e,s.timeout)}}$.imgLazy=function(e){var n=new t(e);$.imgLazy=n.init,n.init()}}();